{"version":3,"sources":["main.js"],"names":[],"mappings":"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","file":"main-compiled.js","sourcesContent":["\n// this is the datetime format for all the datetimepickers on the page\nvar datetimeFormat = 'YYYY-MM-DD HH:mm'; // HH:mm\n\njQuery(function ($) {\n    var timepickerSettings = {\n            template: false,\n            showInputs: false,\n            maxHours: 24,\n            minuteStep: 5,\n            default: '00:00',\n            showSeconds: false,\n            showMeridian: false,\n            explicitMode: true\n        },\n        $datetimepickers = [],\n        timepickerOpts = {sideBySide: true, showMeridian: false, defaultTime: '00:00'};\n\n    $datetimepickers._0 = $('#day-1').datetimepicker({format: datetimeFormat});\n    $datetimepickers._0.datetimepicker('options', timepickerOpts);\n\n    $datetimepickers.pushDate = $('#push-date').datetimepicker({\n        format: datetimeFormat,\n        defaultDate: $('input[name=push-date]').val()\n    });\n    $datetimepickers.pushDate.datetimepicker('options', timepickerOpts);\n\n    let i = 2;\n    let $nextDynamicDatePicker = $(`input[name=\"day-${i++}\"]`);\n    while ($nextDynamicDatePicker.length) {\n        $nextDynamicDatePicker\n            .datetimepicker({format: datetimeFormat});\n        $nextDynamicDatePicker\n            .datetimepicker('options', timepickerOpts);\n\n        $nextDynamicDatePicker = $(`#day-${i++}`);\n    }\n\n    // All the tooltips\n    $('[data-toggle=\"tooltip\"]').tooltip();\n    $('[data-toggle=\"popover\"]').popover();\n\n\n\n\n    let $inputEventId = $('#dates-event-id');\n    let $getDatesBtn = $('#get-dates-by-event');\n    let $clearPushDateBtn = $('#clear-push-date');\n\n    console.log('%cCopro %cShedule%c Algorithm!%c...\\n\\n', 'color:red;font-size:34px',\n        'color:blue;font-size:30px', 'color:green;font-size:25px',\n        'color:pink;font-style:italic;font-size:16px');\n    if ($clearPushDateBtn.length) {\n        $clearPushDateBtn.on('click', function(evt){\n            evt.preventDefault();\n            console.log('clearing push date');\n            $('[name=push-date]').val('');\n        });\n    }\n\n\n    function lookupEventDatesAndBreakMask (evt) {\n        evt.preventDefault();\n        let eventID = + ($('#dates-event-id').val());\n        $.ajax({\n            url: 'ajax.php',\n            type: 'post',\n            data: {\n                'event-id': eventID\n            },\n            dataType: 'json',\n            complete(resp) {\n                if (resp.hasOwnProperty('responseJSON') && typeof resp.responseJSON === \"object\" && !!resp.responseJSON.hasOwnProperty('data')) {\n                    if (resp.responseJSON.success) {\n                        let data = resp.responseJSON.data;\n\n                        if (typeof data.dates === \"object\" && data.dates.constructor === Array) {\n                            let $dynamicDates = $('#dynamic-dates');\n                            $dynamicDates.html('');\n\n                            data.dates.forEach((dateTime, ind)=> {\n                                if (/.*\\s\\d{2}:\\d{2}:.*/.test(dateTime)) {\n                                    dateTime = /(.*\\s\\d{2}:\\d{2}):.*/.exec(dateTime)[1];\n\n                                }\n                                if ($dynamicDates.find(`input[name=day-${ind+1}]`).length) {\n                                    // There is already an element for this datetimepicker to take over\n                                    // Set the date onto the datetimepicker (using .data(\"DateTimePicker\").FUNCTION() )\n                                    $dynamicDates.find(`input[name=day-${ind+1}]`).datetimepicker({date: dateTime});\n                                }\n                                else {\n                                    let breaks = typeof data.breaks === \"object\" && data.breaks.constructor === Array && data.breaks.length > ind ? data.breaks[ind] :'';\n                                    // remove trailing commas\n                                    breaks = breaks.replace(/(.*\\d),+$/, '$1');\n\n                                    // There is no datetimepicker element so we must add one.\n                                    let nextDateTimePicker = `\n                    <div class='form-group col-md-6 col-lg-4'>\n                        <div class='form-group calendar-form-group'>\n                            <label for='day-1' style='height:4rem;'>Day ${ind + 1}:</label>\n                            <div class='input-group date' id='day-${ind + 1}'>\n                                <input type='text' class='form-control' name='day-${ind + 1}' value=\"${dateTime}\" />\n                                <span class='input-group-addon'>\n                                    <span class='glyphicon glyphicon-calendar'></span>\n                                </span>\n                            </div>\n                        </div>\n                        Breaks:<br><input type='text' value='${breaks}' name='breaks-day-${ind + 1}' class='input form-control'>\n                    </div>`;\n                                    // Add this date to the page and then update the date inside of it.\n                                    $dynamicDates.append(nextDateTimePicker);\n                                    $(`#day-${ind + 2}`)\n                                        .datetimepicker({format: datetimeFormat, date: dateTime});\n                                    $(`#day-${ind + 2}`)\n                                        .datetimepicker('options', timepickerOpts);\n\n                                }\n\n                            });\n\n                            let numDatepickers = data.dates.length + 1;\n                            while ( $(`#day-${numDatepickers++}`).length ) {\n                                $(`#day-${numDatepickers++}`).parents('.form-group').first().remove();\n                            }\n\n                            if (typeof data.conflicts === \"object\") {\n                                // Get the emails and their conflicts\n                                $('input[name=\"conflicts\"]').val(JSON.stringify(data.conflicts));\n                                $('input[name=\"conflicts\"]').parents('form').first().append('<input name=\"conflicts-from-javascript\" type=\"hidden\" value=\"1\" />');\n\n                                let conflictsForm = \"<div class='row panel'><div class='panel panel-heading'>Watching for conflicts:</div><div class='panel panel-body'>\";\n                                for (let email in data.conflicts) {\n                                    if (data.conflicts.hasOwnProperty(email)){\n                                        conflictsForm += `<strong>${email}</strong> @ <code>${data.conflicts[email].from}</code> - <code>${data.conflicts[email].to}</code><br>`;\n                                    }\n                                }\n                                conflictsForm += \"</div></div>\";\n\n                                $('.conflicts-group').html(conflictsForm);\n                            }\n                        }\n                    } else {\n                        //console.error('fail', resp.responseJSON);\n                    }\n                }\n            }\n        });\n    }\n\n\n    $getDatesBtn.on('click', lookupEventDatesAndBreakMask);\n\n    if ($getDatesBtn.length && $inputEventId.length) {\n        // NEW PLAN, HIDE THE BUTTON TO LOOKUP BREAKS AND DATES. We will do it automagically!\n        $getDatesBtn.hide();\n        $inputEventId.on('change', lookupEventDatesAndBreakMask);\n    }\n\n\n\n    function setupAllTimePickers() {\n        $('.break-timepicker').timepicker(timepickerSettings)\n            .on('changeTime.timepicker', function() {\n                var $tc = $(this);\n                if ($tc.attr('name').match(/break-start/)) {\n                    // Make sure end is after start\n                    var $end = $tc.parent().next('label[for=\"break-end[]\"]').find('input');\n                    if (+$end.val().replace(/[^0-9]/, '') < +$tc.val().replace(/[^0-9]/, '')) {\n                        // the end time must be equal or greater than start\n                        $end.timepicker('setTime', $tc.val());\n                    }\n                }\n                else if ($tc.attr('name').match(/break-end/)) {\n                    // Make sure start doesn't come after end\n                    var $start = $tc.parent().prev('label[for=\"break-start[]\"]').find('input');\n                    if (+$start.val().replace(/[^0-9]/, '') > +$tc.val().replace(/[^0-9]/, '')) {\n                        // the end time must be equal or greater than start\n                        $start.timepicker('setTime', $tc.val());\n                    }\n                }\n            });\n    }\n\n\n    setupAllTimePickers();\n    $('.add-new-break').on('click', function () {\n        var $btn = $(this);\n        var $newBreakInput = $btn.prev('.new-break-input-container');\n        if ($btn.length && $newBreakInput.length) {\n\n\n            if ($newBreakInput.hasClass('hidden')) {\n                $newBreakInput.removeClass('hidden');\n            } else {\n                $btn.before($newBreakInput.clone());\n            }\n            setupAllTimePickers();\n        }\n    });\n\n    function createModalOnForm() {\n        let $modal = $('#confirm-submission');\n        let $form = $('form[name=\"config\"]');\n\n        if (!$form.length || !$modal.length) {\n            console.error('Missing either form or modal on page!');\n            return;\n        }\n        // If activate-push-date is checked we turn submit button into regular button so it will show\n        // the modal on click.\n\n\n        $form\n            .find('button[type=\"submit\"]')\n            .on('click', function (evt) {\n                const activatePushDateChecked = $('[name=\"activate-push-date\"]', $form).is(':checked');\n                const honorPinnedChecked = $('[name=\"honor-pinned-meetings\"]', $form).is(':checked');\n                const overwriteFinalizeChecked = $('input[name=\"finalize\"]').length && $('input[name=\"finalize\"]').is(':checked');\n                const calendarId = $('input[name=\"calendar-id\"]').val();\n                if (!overwriteFinalizeChecked) {\n                    console.log('%cform %cwas %csubmitted!',\n                        'font-style:italic;font-weight:bold;font-size:40px;color:green', 'font-size:25px;color:blue', 'font-size:30px;color:red' );\n\n                    // submit form it is dry run.\n                    $form.submit();\n                    return true;\n                }\n                evt.preventDefault();\n\n\n                // This will show the data on the modal custom to the form!\n                $modal.on('shown.bs.modal', function () {\n                    $('.push-date-active').toggleClass('hidden', !activatePushDateChecked );\n                    $('.push-date-inactive').toggleClass('hidden', activatePushDateChecked );\n                    $('.honor-pinned-meetings').toggleClass('hidden', !honorPinnedChecked );\n                    $('.not-honor-pinned-meetings').toggleClass('hidden', honorPinnedChecked );\n                    $('span[data-form-value=\"push-date\"]').text($('input[name=\"push-date\"]').val());\n                    $('span[data-form-value=\"calendar\"]').html(`<a href=\"https://copro.ezadmin3.com/copro.co.il/originals/miker/calendar/index.html?eventid=${calendarId}\" target=\"_blank\">Calendar ${calendarId}</a>`);\n                    $modal.off('shown.bs.modal');\n                });\n\n                console.log('%cSHOWING %cCONFIRMATION %cMODAL!!!',\n                    'font-style:italic;font-weight:bold;font-size:40px;color:green', 'font-size:25px;color:blue', 'font-size:30px;color:red' );\n\n                $modal.modal('show');\n\n                $('button[data-run-form=\"true\"]', $modal)\n                    .one('click', function() {\n                        $modal.modal('hide');\n\n                        const $loadingAnime = $('.loading-animation');\n                        if ($loadingAnime.length) {\n                            $loadingAnime.css({\n                                display: 'block',\n                                width: '100%',\n                                height: '100000000%',\n                                position: 'absolute',\n                                top: '0',\n                                bottom: '0',\n                                right: '0',\n                                left: '0'\n                            });\n                            $loadingAnime.addClass('active');\n                        }\n                        $form.submit();\n                    });\n\n            });\n    }\n    createModalOnForm();\n\n\n\n    window.devbug = () => {\n        let hiddenInput = $('input[type=hidden][name=devbug]');\n        if (hiddenInput.length) {\n            // toggle the inputs value\n            return hiddenInput.val(!hiddenInput.val());\n        }\n        $('form[name=config]').append('<input type=\"hidden\" name=\"devbug\" value=\"true\">');\n    };\n});\n\n"]}